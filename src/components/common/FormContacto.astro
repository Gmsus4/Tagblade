---
import Termsofservice from "./Termsofservice.astro";

const checkboxId = "terms-checkbox";
const modalId = "terms-modal";
---

<form name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field">
    <input type="hidden" name="form-name" value="contact" />
    <p class="hidden">
      <label>No llenar si eres humano: <input name="bot-field" /></label>
    </p>
    <div class="grid grid-cols-2 gap-4">
      <div class="col-span-1">
        <label for="first_name" class="text-sm font-medium text-dark-background dark:text-background">Nombre</label>
        <input type="text" id="first_name" name="first_name" class="bg-background border-gray-300 text-dark-background text-sm rounded-lg w-full p-2.5 dark:bg-dark-surface dark:border-dark-border dark:text-background focus:ring-primary focus:border-primary" placeholder="Ingresa tu nombre" required>
      </div>
      <div class="col-span-1">
        <label for="last_name" class="text-sm font-medium text-dark-background dark:text-background">Apellido</label>
        <input type="text" id="last_name" name="last_name" class="bg-background border-gray-300 text-dark-background text-sm rounded-lg w-full p-2.5 dark:bg-dark-surface dark:border-dark-border dark:text-background focus:ring-primary focus:border-primary" placeholder="Ingresa tu apellido" required>
      </div>
      <div class="col-span-2">
        <label for="email" class="text-sm font-medium text-dark-background dark:text-background">Correo electrónico</label>
        <div class="relative">
          <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
            <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 16">
              <path d="m10.036 8.278 9.258-7.79A1.979 1.979 0 0 0 18 0H2A1.987 1.987 0 0 0 .641.541l9.395 7.737Z"/>
              <path d="M11.241 9.817c-.36.275-.801.425-1.255.427-.428 0-.845-.138-1.187-.395L0 2.6V14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2.5l-8.759 7.317Z"/>
            </svg>
          </div>
          <input type="email" id="email" name="email" class="bg-background border-gray-300 text-dark-background text-sm rounded-lg w-full ps-10 p-2.5 dark:bg-dark-surface dark:border-dark-border dark:text-background focus:ring-primary focus:border-primary" placeholder="nombre@empresa.com" required>
        </div>
      </div>

      <div class="sm:col-span-1 col-span-2">
        <label for="website" class="text-sm font-medium text-dark-background dark:text-background">Sitio web personal <span class="text-gray-500 dark:text-gray-400">(opcional)</span></label>
        <div class="relative">
          <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
            <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
              <path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 18a8 8 0 1 1 8-8 8.009 8.009 0 0 1-8 8Z"/>
              <path d="M10 12.586V10a1 1 0 0 0-2 0v4a1 1 0 0 0 .293.707l2 2a1 1 0 0 0 1.414-1.414L10 12.586Z"/>
            </svg>
          </div>
          <input type="url" id="website" name="website" class="bg-background border-gray-300 text-dark-background text-sm rounded-lg w-full ps-10 p-2.5 dark:bg-dark-surface dark:border-dark-border dark:text-background focus:ring-primary focus:border-primary" placeholder="https://tusitio.com">
        </div>
      </div>

      <div class="sm:col-span-1 col-span-2">
        <label for="phone" class="text-sm font-medium text-dark-background dark:text-background">Teléfono <span class="text-gray-500 dark:text-gray-400">(opcional)</span></label>
        <div class="relative">
          <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
            <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
              <path d="M18.148 14.148a1.575 1.575 0 0 0-2.137.1l-1.55 1.55c-.472-.116-1.525-.49-2.713-1.678-.989-.989-1.497-2.126-1.648-2.677l1.559-1.559a1.574 1.574 0 0 0 .104-2.13L9.782 5.773a1.574 1.574 0 0 0-2.118-.144l-1.05 1.05c-.313.313-.5.77-.5 1.235 0 .449-.007 4.41 3.66 8.076 3.172 3.172 6.263 3.651 7.598 3.651.324 0 .507-.02.562-.025a1.78 1.78 0 0 0 1.153-.518l.993-.993a1.573 1.573 0 0 0-.146-2.132l-1.786-1.825z"/>
            </svg>
          </div>
          <input type="tel" id="phone" name="phone" class="bg-background border-gray-300 text-dark-background text-sm rounded-lg w-full ps-10 p-2.5 dark:bg-dark-surface dark:border-dark-border dark:text-background focus:ring-primary focus:border-primary" placeholder="+52 3345707676">
        </div>
      </div>

      <div class="col-span-2">
        <label for="reason" class="text-sm font-medium text-dark-background dark:text-background">Motivo de contacto</label>
        <select id="reason" name="reason" class="bg-background border-gray-300 text-dark-background text-sm rounded-lg w-full p-2.5 dark:bg-dark-surface dark:border-dark-border dark:text-background focus:ring-primary focus:border-primary" required>
          <option value="" selected disabled>Selecciona una opción</option>
          <option value="consulta">Consulta general</option>
          <option value="presupuesto">Solicitud de presupuesto</option>
          <option value="soporte">Soporte técnico</option>
          <option value="colaboracion">Propuesta de colaboración</option>
          <option value="otro">Otro</option>
        </select>
      </div>
      <div class="col-span-2">
        <label for="message" class="text-sm font-medium text-dark-background dark:text-background">Mensaje</label>
        <textarea id="message" name="message" rows="4" class="bg-background border-gray-300 text-dark-background text-sm rounded-lg w-full p-2.5 dark:bg-dark-surface dark:border-dark-border dark:text-background focus:ring-primary focus:border-primary" placeholder="Escribe tu mensaje aquí..." required></textarea>
      </div>
    
      <div class="flex items-start col-span-2">
        <div class="flex items-center h-5">
          <input 
            id={checkboxId} 
            type="checkbox" 
            required
            name="checkbox"
            class="w-4 h-4 border border-gray-300 rounded-sm bg-background dark:bg-gray-700 dark:border-gray-600 focus:ring-3 focus:ring-primary focus:border-primary" 
          />
        </div>
        <Termsofservice checkboxId={checkboxId} modalId={modalId} />
      </div>

      <button class="col-span-2 cursor-pointer text-background bg-primary hover:bg-primary-dark transition-all duration-300 ease-in-out font-medium rounded-lg text-sm w-full px-5 py-3 text-center flex items-center justify-center gap-2 shadow-md hover:shadow-lg">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z" clip-rule="evenodd" />
        </svg>
        Enviar mensaje
      </button>
    
      <div class="col-span-2 flex items-center mt-4">
        <svg class="h-4 w-4 text-primary mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
        </svg>
        <p class="text-sm text-gray-500 dark:text-gray-400">
          Te responderemos en un plazo máximo de 24 horas laborables
        </p>
      </div>
    </div>
</form>