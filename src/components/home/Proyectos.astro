---
import { titles } from '../../js/titles';
import { proyectos } from '../../js/proyectos';
import TitleSection from '../common/TitleSection.astro';
---

<section id="proyectos" class="md:px-20 sm:px-10 px-5 lg:scroll-mt-18 scroll-mt-12 w-full bg-background-secondary dark:bg-dark-background flex items-center justify-center lg:min-h-[calc(100vh-70px)]">
  <div class="max-w-screen-xl mx-auto px-0 lg:py-16 p-12 relative py-12" data-aos="fade-up" data-aos-duration="1000">
    <TitleSection title={titles.proyectos.title} />

    <!-- Grid mejorado de proyectos -->
    <div class="grid gap-6 mt-10 grid-cols-[repeat(auto-fit,minmax(300px,1fr))] md:grid-cols-[repeat(auto-fit,minmax(400px,1fr))]">
      {proyectos.map((proyecto, index) => (
        <div class="rounded-sm border-0.5 border-border-default bg-background/90 dark:bg-dark-surface border dark:border-dark-border overflow-hidden transition-all duration-300 group hover:shadow-lg relative">
          <div class="relative overflow-hidden h-48">
            <img 
              src={proyecto.urlImage} 
              alt={`Imagen de ${proyecto.title}`} 
              class="w-full h-full object-cover transition duration-500 group-hover:scale-105" 
            />
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
            
            <span class="absolute top-3 right-3 bg-primary/90 text-white text-xs px-3 py-1 rounded-full shadow-sm">
              {proyecto.type}
            </span>
          </div>
          
          {/* Contenido del proyecto */}
          <div class="p-6">

            {/* Titulo del proyecto */}
            <h3 class="text-xl font-semibold dark:text-white mb-2 group-hover:text-primary transition-colors duration-300">
              {proyecto.title}
              <div class="h-1 w-8 bg-primary/40 mt-2 transition-all duration-300 group-hover:w-16"></div>
            </h3>
            
            {/* Descripcion del proyecto */}
            <p class="text-sm text-text-secundary dark:text-gray-300 mb-4">
              {proyecto.description}
            </p>
            
            {/* Tecnologías */}
            <div class="flex flex-wrap gap-2 mb-4 cursor-default">
              {proyecto.technologies.map((tech, techIndex) => (
                <span 
                  class="text-xs bg-background-secondary text-text-secundary dark:bg-dark-background dark:text-gray-200 px-2 py-1 rounded-full"
                  data-aos="zoom-in" 
                  data-aos-delay={`${(techIndex * 50) + 200}`}
                >
                  {tech}
                </span>
              ))}
            </div>
            
           {/* Link estilizado */}
            <a 
              href={proyecto.urlPage} 
              target="_blank" 
              rel="noopener"
              class="group/link inline-flex items-center gap-1 text-sm font-medium text-primary hover:text-primary-dark transition-colors mt-2"
            >
              <span>Visitar página web</span>
              <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width="16" 
                height="16" 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                stroke-width="2" 
                stroke-linecap="round" 
                stroke-linejoin="round"
                class="transform transition-transform duration-300 group-hover/link:translate-x-1"
              >
                <path d="M5 12h14"></path>
                <path d="m12 5 7 7-7 7"></path>
              </svg>
            </a>
          </div>
        </div>
      ))}
    </>
  </div>
</section>